{"version":3,"sources":["pages/SingleProductPage.js","redux/singleProduct/singleProductAction.js"],"names":["Wrapper","styled","section","Screen","md","SingleProductPage","navigate","useNavigate","id","useParams","dispatch","useDispatch","useSelector","state","singleProductState","product","single_product","loading","single_product_loading","error","single_product_error","title","price","image","category","description","rating","useEffect","params","a","type","GET_SINGLE_PRODUCT_BEGIN","fetch","resopnse","json","singleProduct","payload","GET_SINGLE_PRODUCT_SUCCESS","GET_SINGLE_PRODUCT_ERROR","setTimeout","className","products","src","alt","variant","to","H2","stars","P"],"mappings":"yPA6FMA,EAAUC,IAAOC,QAAV,6tBAWPC,IAAOC,GAXA,yEAwBLD,IAAOC,GAxBF,0DAiDEC,UAvHW,WACxB,IAAMC,EAAWC,cACTC,EAAOC,cAAPD,GAEFE,EAAWC,cACjB,EAIIC,aAAY,SAACC,GAAD,OAAWA,EAAMC,sBAHfC,EADlB,EACEC,eACwBC,EAF1B,EAEEC,uBACsBC,EAHxB,EAGEC,qBAGMC,EAAuDN,EAAvDM,MAAOC,EAAgDP,EAAhDO,MAAOC,EAAyCR,EAAzCQ,MAAOC,EAAkCT,EAAlCS,SAAUC,EAAwBV,EAAxBU,YAAaC,EAAWX,EAAXW,OAcpD,OAZAC,qBAAU,WCrBsB,IAACC,EDsB/BlB,GCtB+BkB,EDsBHpB,ECrB9B,uCAAO,WAAOE,GAAP,iBAAAmB,EAAA,6DACLnB,EAXiC,CAAEoB,KAAMC,MAUpC,kBAGoBC,MAAM,qCAAD,OACWJ,IAJpC,cAGGK,EAHH,gBAMyBA,EAASC,OANlC,OAMGC,EANH,OAOHzB,GAf2B0B,EAeMD,EAfO,CAC5CL,KAAMO,IACND,aAMO,kDASH1B,EAZ+B,CAAEoB,KAAMQ,MAGpC,kCARuB,IAACF,IAQxB,qBAAP,0DDsBG,CAAC5B,IAEJmB,qBAAU,WACJR,GACFoB,YAAW,WACTjC,EAAS,OACR,OAEJ,CAACa,IAEAF,EAEA,qBAAKuB,UAAU,WAAf,SACE,cAAC,IAAD,MAKFrB,EAEA,qBAAKqB,UAAU,WAAf,SACE,cAAC,IAAD,MAMJ,iCACE,cAAC,IAAD,CAAYnB,MAAOA,EAAOoB,UAAQ,IAClC,cAACzC,EAAD,CAASwC,UAAU,OAAnB,SACE,oCACE,qBAAKA,UAAU,eAAf,SACE,qBAAKE,IAAKnB,EAAOoB,IAAKtB,MAExB,sBAAKmB,UAAU,gBAAf,UACE,cAAC,IAAD,CAAQI,QAAQ,YAAhB,SACE,cAAC,IAAD,CAAMC,GAAG,YAAT,gCAEF,cAAC,IAAWC,GAAZ,UAAgBzB,IAChB,cAAC,IAAD,CAAO0B,MAAOrB,IACd,eAAC,IAAWsB,EAAZ,CAAcR,UAAU,cAAxB,qBACU,qCAAQlB,QAElB,eAAC,IAAW0B,EAAZ,CAAcR,UAAU,iBAAxB,wBACa,+BAAOhB,OAEpB,cAAC,IAAWwB,EAAZ,UAAevB,IACf,cAAC,IAAD,CAAWV,QAASA","file":"static/js/9.497864dc.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\n\r\n//? Helper\r\nimport Screen from \"../styles/Screen\";\r\n\r\n//? Redux\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { fetchSingleProduct } from \"../redux/singleProduct/singleProductAction\";\r\n\r\n//? Components\r\nimport {\r\n  Breadcrumb,\r\n  Error,\r\n  Loading,\r\n  Stars,\r\n  AddToCart,\r\n  Button,\r\n  Icons,\r\n  Typography,\r\n} from \"../components\";\r\n\r\nconst SingleProductPage = () => {\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  const dispatch = useDispatch();\r\n  const {\r\n    single_product: product,\r\n    single_product_loading: loading,\r\n    single_product_error: error,\r\n  } = useSelector((state) => state.singleProductState);\r\n\r\n  const { title, price, image, category, description, rating } = product;\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchSingleProduct(id));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      setTimeout(() => {\r\n        navigate(\"/\");\r\n      }, 3000);\r\n    }\r\n  }, [error]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className='page-w-b'>\r\n        <Loading />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className='page-w-b'>\r\n        <Error />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Breadcrumb title={title} products />\r\n      <Wrapper className='page'>\r\n        <article>\r\n          <div className='product__img'>\r\n            <img src={image} alt={title} />\r\n          </div>\r\n          <div className='product__info'>\r\n            <Button variant='secondary'>\r\n              <Link to='/products'>back to products</Link>\r\n            </Button>\r\n            <Typography.H2>{title}</Typography.H2>\r\n            <Stars stars={rating} />\r\n            <Typography.P className='info__price'>\r\n              Price : <span>${price}</span>\r\n            </Typography.P>\r\n            <Typography.P className='info__category'>\r\n              Category : <span>{category}</span>\r\n            </Typography.P>\r\n            <Typography.P>{description}</Typography.P>\r\n            <AddToCart product={product} />\r\n          </div>\r\n        </article>\r\n      </Wrapper>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.section`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n\r\n  article {\r\n    padding: 1.5rem 1rem;\r\n    background: #fff;\r\n    display: grid;\r\n    justify-items: center;\r\n    gap: 2rem;\r\n    ${Screen.md`\r\n    grid-template-columns: 1fr 1fr 1fr;\r\n    `}\r\n\r\n    .product__img {\r\n      img {\r\n        max-width: 20rem;\r\n      }\r\n    }\r\n\r\n    .product__info {\r\n      display: grid;\r\n      gap: 1rem;\r\n      ${Screen.md`\r\n      grid-column: 2/4;\r\n    `}\r\n\r\n      button {\r\n        width: max-content;\r\n      }\r\n\r\n      .info__price {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--red-color-1);\r\n        }\r\n      }\r\n\r\n      .info__category {\r\n        color: var(--green-color-1);\r\n        span {\r\n          color: var(--gray-color-1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport default SingleProductPage;\r\n","import {\r\n  GET_SINGLE_PRODUCT_BEGIN,\r\n  GET_SINGLE_PRODUCT_SUCCESS,\r\n  GET_SINGLE_PRODUCT_ERROR,\r\n} from \"./actions\";\r\n\r\nconst getSingelProductBegin = () => ({ type: GET_SINGLE_PRODUCT_BEGIN });\r\n\r\nconst getSingelProductSuccess = (payload) => ({\r\n  type: GET_SINGLE_PRODUCT_SUCCESS,\r\n  payload,\r\n});\r\n\r\nconst getSingelProductError = () => ({ type: GET_SINGLE_PRODUCT_ERROR });\r\n\r\nexport const fetchSingleProduct = (params) => {\r\n  return async (dispatch) => {\r\n    dispatch(getSingelProductBegin());\r\n    try {\r\n      const resopnse = await fetch(\r\n        `https://fakestoreapi.com/products/${params}`\r\n      );\r\n      const singleProduct = await resopnse.json();\r\n      dispatch(getSingelProductSuccess(singleProduct));\r\n    } catch (error) {\r\n      dispatch(getSingelProductError());\r\n    }\r\n  };\r\n};\r\n"],"sourceRoot":""}